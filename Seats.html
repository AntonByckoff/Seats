<html>
  <head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">	
  <title>Seats</title>
  <link rel="stylesheet" type="text/css" href="style.css">	
  <script type="text/javascript">
  var seats=[[false,true,false,true,true,true,false,true,false],
             [false,true,false,false,true,false,true,true,true],
             [true,true,true,false,true,false,false,true,false],
             [false,true,false,true,true,true,false,true,false]];           
  var selSeat=-1; //  первое выбранное место
  const N=seats[0].length;
  // функция проверки состояния выбранного места
  function getSeatStatus(seatNum){
    if (selSeat!=-1&&(seatNum==selSeat||seatNum==(selSeat+1)||seatNum==(selSeat+2)))
      return "ваше";
    else if(seats[Math.floor(seatNum/seats[0].length)][seatNum%seats[0].length])
      return "свободно"
    else
      return "занято"
  }
  function showSeatStatus(seatNum){
    alert("Место  "+getSeatStatus(seatNum)+".");
  }
  function setSeats(nombPlus,strSrc,strAlt){
   document.getElementById("seats"+nombPlus).src=strSrc; 
   document.getElementById("seats"+nombPlus).alt=strAlt;
   }
  function initSeats(){
    for(var i=0; i<seats.length; i++){
      for(var j=0; j<seats[i].length; j++){
        if (seats[i][j]){
          setSeats(i*N+j,"seat_avail.png","Availabel seat");
        }
         else{
           setSeats(i*N+j,"seat_unavail.png","Unavailabel seat");
         }
      }
    }
  }
  function findSeat(){
    if (selSeat>=0){
    	selSeat=-1;
    	initSeats();
    }
    else{
      var i=0;
      var finished=false;
    	while(i<seats.length&&!finished){
        var j=0;
        while (j<seats[i].length-2&&!finished){
    	    	if (seats[i][j]&&seats[i][j+1]&&seats[i][j+2]){
    	    		selSeat=i*N+j;
              setSeats(i*N+j,"seat_select.png","Select seats");
              setSeats(i*N+j+1,"seat_select.png","Select seats");
              setSeats(i*N+j+2,"seat_select.png","Select seats");
    	    		var accept=confirm("Ряд: "+(i+1)+"\nместа:"+(j+1)+ " - "+(j+3)+" свободны.\nПринять?");
    	    		if(accept){
    	    			finished=true;
    	    		}
    	    		else{
                 setSeats(i*N+j,"seat_avail.png","Availabel seat");
                 setSeats(i*N+j+1,"seat_avail.png","Availabel seat");
                 setSeats(i*N+j+2,"seat_avail.png","Availabel seat");
    		    		selSeat=-1;	
    	    		}
    	    	 }
             j++;
        }
	    	i++; 
        }
    }
  }
  window.onload=function(){
    // обработчик связанный с нажатием кнопки поиск свободных мест
    document.getElementById("findseats").onclick=findSeat;
   // обработчик связанный с щелчками по изображением кресел
   document.getElementById("seats0").onclick=function(evt){showSeatStatus(0);}
   document.getElementById("seats1").onclick=function(evt){showSeatStatus(1);}
   document.getElementById("seats2").onclick=function(evt){showSeatStatus(2);}
   document.getElementById("seats3").onclick=function(evt){showSeatStatus(3);}
   document.getElementById("seats4").onclick=function(evt){showSeatStatus(4);}
   document.getElementById("seats5").onclick=function(evt){showSeatStatus(5);}
   document.getElementById("seats6").onclick=function(evt){showSeatStatus(6);}
   document.getElementById("seats7").onclick=function(evt){showSeatStatus(7);}
   document.getElementById("seats8").onclick=function(evt){showSeatStatus(8);}
   document.getElementById("seats9").onclick=function(evt){showSeatStatus(9);}
   document.getElementById("seats10").onclick=function(evt){showSeatStatus(10);}
   document.getElementById("seats11").onclick=function(evt){showSeatStatus(11);}
   document.getElementById("seats12").onclick=function(evt){showSeatStatus(12);}
   document.getElementById("seats13").onclick=function(evt){showSeatStatus(13);}
   document.getElementById("seats14").onclick=function(evt){showSeatStatus(14);}
   document.getElementById("seats15").onclick=function(evt){showSeatStatus(15);}
   document.getElementById("seats16").onclick=function(evt){showSeatStatus(16);}
   document.getElementById("seats17").onclick=function(evt){showSeatStatus(17);}
   document.getElementById("seats18").onclick=function(evt){showSeatStatus(18);}
   document.getElementById("seats19").onclick=function(evt){showSeatStatus(19);}
   document.getElementById("seats20").onclick=function(evt){showSeatStatus(20);}
   document.getElementById("seats21").onclick=function(evt){showSeatStatus(21);}
   document.getElementById("seats22").onclick=function(evt){showSeatStatus(22);}
   document.getElementById("seats23").onclick=function(evt){showSeatStatus(23);}
   document.getElementById("seats24").onclick=function(evt){showSeatStatus(24);}
   document.getElementById("seats25").onclick=function(evt){showSeatStatus(25);}
   document.getElementById("seats26").onclick=function(evt){showSeatStatus(26);}
   document.getElementById("seats27").onclick=function(evt){showSeatStatus(27);}
   document.getElementById("seats28").onclick=function(evt){showSeatStatus(28);}
   document.getElementById("seats29").onclick=function(evt){showSeatStatus(29);}
   document.getElementById("seats30").onclick=function(evt){showSeatStatus(30);}
   document.getElementById("seats31").onclick=function(evt){showSeatStatus(31);}
   document.getElementById("seats32").onclick=function(evt){showSeatStatus(32);}
   document.getElementById("seats33").onclick=function(evt){showSeatStatus(33);}
   document.getElementById("seats34").onclick=function(evt){showSeatStatus(34);}
   document.getElementById("seats35").onclick=function(evt){showSeatStatus(35);}
   // задаем виды кресел 
    initSeats();
  }
  </script>
  </head>
  <body>
     <div>
     	  <img id="seats0" src="" alt="" />
        <img id="seats1" src="" alt="" />
        <img id="seats2" src="" alt="" />
        <img id="seats3" src="" alt="" />
        <img id="seats4" src="" alt="" />
        <img id="seats5" src="" alt="" />
        <img id="seats6" src="" alt="" />
        <img id="seats7" src="" alt="" />
        <img id="seats8" src="" alt="" />
        <br/>
        <img id="seats9" src="" alt="" />
        <img id="seats10" src="" alt="" />
        <img id="seats11" src="" alt="" />
        <img id="seats12" src="" alt="" />
        <img id="seats13" src="" alt="" />
        <img id="seats14" src="" alt="" />
        <img id="seats15" src="" alt="" />
        <img id="seats16" src="" alt="" />
        <img id="seats17" src="" alt="" />
        <br/>
        <img id="seats18" src="" alt="" />
        <img id="seats19" src="" alt="" />
        <img id="seats20" src="" alt="" />
        <img id="seats21" src="" alt="" />
        <img id="seats22" src="" alt="" />
        <img id="seats23" src="" alt="" />
        <img id="seats24" src="" alt="" />
        <img id="seats25" src="" alt="" />
        <img id="seats26" src="" alt="" />
        <br/>
        <img id="seats27" src="" alt="" />
        <img id="seats28" src="" alt="" />
        <img id="seats29" src="" alt="" />
        <img id="seats30" src="" alt="" />
        <img id="seats31" src="" alt="" />
        <img id="seats32" src="" alt="" />
        <img id="seats33" src="" alt="" />
        <img id="seats34" src="" alt="" />
        <img id="seats35" src="" alt="" />
        <br/>
        <input type="button" id="findseats" value="Find Seats"/>
     </div>
  </body>
</hrml>